(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(58)},26:function(e,t,a){},27:function(e,t,a){},50:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(12),o=a.n(r),i=(a(26),a(13)),c=a(14),l=a(18),u=a(15),d=a(19),m=(a(27),a(6)),h=a.n(m),f=(a(47),a(17));a(50);function g(e){var t=[{Header:e.title||"Displaying Users",columns:[{Header:"ID",accessor:"id",width:50},{Header:"Name",accessor:"name"},{Header:"Photo",Cell:function(e){return s.a.createElement("div",null,s.a.createElement("img",{className:"img-responsive",src:e.original.photo,height:34,alt:"photoOf"+e.original.name}))}},{Header:"Age",accessor:"age"},{Header:"Number",accessor:"number"}]}];return s.a.createElement("div",{className:"white"},s.a.createElement(f.a,{data:e.data||[],columns:t,showPagination:!1,minRows:0,verticalAlign:"middle",className:"-striped -highlight"}))}var p=a(16),v=a.n(p);function b(e){return e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}var w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleClick=function(t){e.fetchUserIds()},e.fetchUserIds=function(t){var a=t?{token:t}:{};h.a.get("https://appsheettest1.azurewebsites.net/sample/list",{params:a}).then(function(a){var n=a.data.token?a.data.token:"";n&&e.fetchUserIds(n),a.data&&a.data.result?e.handleIdList(a.data.result,n):t&&e.setState({buttonText:"No Users Found"})}).catch(function(e){console.log("Error: "+e)})},e.handleIdList=function(t,a){var n=t.map(function(t){return h.a.get("https://appsheettest1.azurewebsites.net/sample/detail/"+t).then(function(t){e.validateUser(t)}).catch(function(e){console.log("Error: "+e)})});Promise.all(n).then(function(){var t;a||e.setState({users:b((t=e.state.users,t.sort(function(e,t){if(e.age<t.age)return-1;if(e.age>t.age)return 1;if(e.age===t.age){if(e.name<t.name)return-1;if(e.name>t.name)return 1}return 0})).slice(0,5)),hasResults:!0})})},e.validateUser=function(t){var a;t.data&&(a=t.data.number,/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(a))&&e.setState({users:e.state.users.concat(t.data)})},e.state={users:[],hasResults:!1,buttonText:"Get Results"},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(v.a,{backgroundColor:"#ccffcc"},s.a.createElement("div",null,s.a.createElement("h2",{className:"title"},"Akash Arora - App Sheet Project"),this.state.hasResults?s.a.createElement(g,{data:this.state.users,title:"The Top Five Youngest Users with Valid Phone Numbers, by Name"}):s.a.createElement("div",{className:"button__container",onClick:this.handleClick},s.a.createElement("button",{className:"button"},this.state.buttonText))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.6408cb24.chunk.js.map