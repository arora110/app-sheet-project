(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(57)},26:function(e,t,a){},27:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(17),o=a.n(s),i=(a(26),a(4)),c=a(5),l=a(7),u=a(6),d=a(8),h=(a(27),a(11)),m=a.n(h),f=(a(47),a(19)),p=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={title:a.props.title?a.props.title:"Displaying Users",data:a.props.data?a.props.data:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[{Header:this.state.title,columns:[{Header:"ID",accessor:"id",width:50},{Header:"Name",accessor:"name"},{Header:"Photo",Cell:function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:"img-responsive",src:e.original.photo,height:34,alt:"photoOf"+e.original.name}))}},{Header:"Age",accessor:"age"},{Header:"Number",accessor:"number"}]}];return r.a.createElement(f.a,{data:this.state.data,columns:e,showPagination:!1,minRows:0,verticalAlign:"middle",className:"-striped -highlight"})}}]),t}(r.a.Component),g=a(18),v=a.n(g);function b(e){return null===e||void 0===e||""===e}function w(e){return e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}var k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleClick=function(t){e.fetchList()},e.fetchList=function(t){var a=t?{token:t}:{};m.a.get("https://appsheettest1.azurewebsites.net/sample/list",{params:a}).then(function(t){var a=t.data.token?t.data.token:"";b(a)||e.fetchList(a),t.data&&t.data.result&&e.handleIdList(t.data.result,a)}).catch(function(e){console.log("Error: "+e)})},e.handleIdList=function(t,a){var n=t.map(function(t){return m.a.get("https://appsheettest1.azurewebsites.net/sample/detail/"+t).then(function(t){e.validateUser(t)}).catch(function(e){console.log("Error: "+e)})});Promise.all(n).then(function(){var t;b(a)&&e.setState({users:w((t=e.state.users,t.sort(function(e,t){if(e.age<t.age)return-1;if(e.age>t.age)return 1;if(e.age===t.age){if(e.name<t.name)return-1;if(e.name>t.name)return 1}return 0})).slice(0,5)),hasResults:!0})})},e.validateUser=function(t){var a;t.data&&(a=t.data.number,/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(a))&&e.setState({users:e.state.users.concat(t.data)})},e.state={users:[],hasResults:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{backgroundColor:"#ccffcc"},r.a.createElement("div",null,r.a.createElement("h2",{class:"title"},"Akash Arora - App Sheet Project"),this.state.hasResults?r.a.createElement("div",{style:{backgroundColor:"#ffffff"}},r.a.createElement(p,{data:this.state.users,title:"Displaying the Top 5 Youngest Users with Valid Phone Numbers, by Name"})):r.a.createElement("div",{className:"button__container",onClick:this.handleClick},r.a.createElement("button",{className:"button"},"Get Results"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.be8598e0.chunk.js.map